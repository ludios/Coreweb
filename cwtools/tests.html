<!doctype html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=8" />
<title>@tests</title>
</head>
<body>

<style>
div, p, body {
	font-size: 13px;
	font-family: Tahoma, sans-serif;
}
</style>

<a href="#" onclick="__CW_toggleVisibility('CW-debug-log');return false">Show/hide debug log</a><br>

<div id="CW-debug-log" style="background-color:#ddd;display:none"></div>
<div id="CW-test-log" style="background-color:#ccc"></div>


<script>
/*
	function to count number of window properties,
	to help make sure nothing (besides __CW_x and CW) are added
*/
__CW_x = {
	enumerate: function() {
		var c = {}, k;
		for(k in window) {
			c[k] = true;
		};
		return c;
	},
	check: function(old) {
		var k;
		var newProps = [];
		for(k in window) {
			if(!old[k]) {
				newProps.push(k);
			}
		}
		return newProps;
	}
};
__CW_x.sb = +new Date; /* scripts begin */
__CW_x.propsBefore = __CW_x.enumerate();
</script>
<script>
/**/scriptContent//
</script>

<script>
__CW_x.se = +new Date; /* scripts end */


function __CW_toggleVisibility(id) {
	var e = document.getElementById(id);
	if(e.style.display == 'block' || !e.style.display) {
		e.style.display = 'none';
	} else {
		e.style.display = 'block';
	}
}

CW.msg("Took " + (__CW_x.se-__CW_x.sb) + " ms to load scripts.");

(function() {

function _startTests() {
	CW.msg('Running tests.');

	var modules = /**/moduleString//
	var suite = CW.UnitTest.loadFromModules(modules);

	var d = CW.UnitTest.run(suite);
	//d.addCallback(function(){document.body.style.backgroundColor = 'green';});

	function _checkProps() {
		var newProps = __CW_x.check(__CW_x.propsBefore);
		CW.msg('New window properties: ' + newProps.join(','));
	}

	d.addCallback(_checkProps);
}

// TODO: use event listeners?
window.onload = _startTests;

})();

</script>

<!-- TODO: factor out the /@static/ -->


<br>

